{% from "govuk/components/details/macro.njk" import govukDetails %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/file-upload/macro.njk" import govukFileUpload %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

<div class="govuk-grid-column-two-thirds">

<h1 class="govuk-heading-l">Upload your file</h1>

{% if flash %}
{{ govukErrorSummary({
  titleText: "There is a problem",
  errorList: [
    {
      html: flash,
      href: "#file-upload"
    }
  ]
}) }}
{% endif %}

<p class="govuk-body">Upload the MI Excel spreadsheet with completed project and milestone information.<p>

{{ govukDetails({
  summaryText: "How do I know if my file is correct?",
  html: "<p class='govuk-body'>Your file must match the current MI commision template. If your file does not match
  this template, the upload function will not work.</p><p class='govuk-body'>Make sure your document in up to date.</p>
  <a class='govuk-link' href='" + config.paths.dataEntry.projectMilestoneTemplate + "' target='_blank'>Download the latest template for the MI commission</a>"
}) }}

<ol class="govuk-list govuk-list--number">
  <li>Complete the MI Excel spreadsheet as per the template</li>
  <li>Upload the file below</li>
</ol>

<form action="{{ url }}" method="post" encType="multipart/form-data">

{{ govukFileUpload({
  id: "file-upload",
  name: "import",
  label: {
    text: "Upload a file"
  }
}) }}

{{ govukButton({
  text: "Upload",
  type: "submit",
  preventDoubleClick: true
}) }}

</form>

</div>